
# Дискретные каналы связи и пропускная способность

## Что такое дискретный канал связи

**Простыми словами:** Канал связи — это «трубопровод» для передачи информации от отправителя к получателю. Представьте, что вы кричите другу через длинный коридор — ваш голос может исказиться, часть слов потеряться, или добавиться эхо.

**Дискретный канал** означает, что мы передаём символы из конечного набора (например, только 0 и 1), а не непрерывные сигналы.

**Канал без памяти (memoryless)** означает, что искажение каждого символа не зависит от предыдущих символов. Каждое использование канала — независимое событие.

## Математическое описание дискретного канала

### Основные компоненты

**1. Входной алфавит X** — набор символов, которые мы можем отправить
Например: X = {0, 1} для бинарного канала

**2. Выходной алфавит Y** — набор символов, которые может принять получатель
Например: Y = {0, 1} или Y = {0, 1, e} для канала со стиранием

**3. Переходные вероятности p(y|x)** — вероятность получить символ y при отправке символа x

### Матрица канала (переходная матрица)

Переходные вероятности удобно записать в виде **матрицы канала P**:

$$
P = \begin{pmatrix}
p(y_0|x_0) & p(y_1|x_0) & \cdots \\
p(y_0|x_1) & p(y_1|x_1) & \cdots \\
\vdots & \vdots & \ddots
\end{pmatrix}
$$

**Важные свойства матрицы канала:**

- Все элементы неотрицательны (это вероятности)
- Сумма элементов в каждой строке равна 1
- Каждая строка соответствует входному символу
- Каждый столбец соответствует выходному символу


### Пример: погода как канал связи

Представим, что погода — это «канал», который искажает наши планы:

- Вход: планы (Пикник, Дома)
- Выход: реальность (Весело, Скучно)

```
Матрица "погодного канала":
              Весело  Скучно
    Пикник  [  0.8    0.2  ]
    Дома    [  0.3    0.7  ]
```

Интерпретация: если планируем пикник, с вероятностью 0.8 будет весело, с вероятностью 0.2 — скучно.

## Пропускная способность канала

### Определение пропускной способности

**Пропускная способность C** — это максимальное количество информации (в битах), которое можно надёжно передать через канал за одно использование:

$$
C = \max_{p(x)} I(X;Y)
$$

Где:

- **I(X;Y)** — взаимная информация между входом и выходом
- **p(x)** — распределение вероятностей входных символов
- **max** означает, что мы выбираем оптимальное распределение входных символов


### Интуитивное понимание

**Пропускная способность** — это ответ на вопрос: «Сколько полезной информации максимум может передать этот канал?»

- Если канал идеальный (без помех), C = log₂(размер алфавита)
- Если канал полностью шумный, C = 0
- Реальные каналы имеют C между этими крайностями


### Физический смысл

Представьте узкую дорогу с препятствиями:

- **Ширина дороги** = размер входного алфавита
- **Количество препятствий** = уровень шума
- **Пропускная способность** = максимальное количество машин, которые могут проехать за час

![Пропускная способность бинарного симметричного канала](https://ppl-ai-code-interpreter-files.s3.amazonaws.com/web/direct-files/a850ead7e89d00651e53ca858b9d1373/0ae0dbcc-f2f4-4cf9-862b-38527d2db1c2/2c5673b4.png)

Пропускная способность бинарного симметричного канала

## Примеры дискретных каналов

### 1. Бинарный симметричный канал (BSC)

![Схема бинарного симметричного канала](https://user-gen-media-assets.s3.amazonaws.com/gpt4o_images/fa6debf2-1f89-4712-ac55-70244df6036a.png)

Схема бинарного симметричного канала

**Описание:** Самый важный канал в теории информации. Передаёт биты (0 или 1), каждый бит может «перевернуться» с вероятностью p.

**Матрица канала:**

$$
P = \begin{pmatrix}
1-p & p \\
p & 1-p
\end{pmatrix}
$$

**Пропускная способность BSC:**

$$
C = 1 - H_b(p) = 1 - [-p\log_2(p) - (1-p)\log_2(1-p)]
$$

**Интерпретация результатов:**

- При p = 0 (идеальный канал): C = 1 бит — можем передать 1 бит информации за использование
- При p = 0.5 (максимально шумный): C = 0 бит — канал бесполезен
- При p = 0.1: C ≈ 0.53 бит — можем передать примерно половину бита за использование


### 2. Канал со стиранием (BEC)

![Схема канала со стиранием](https://user-gen-media-assets.s3.amazonaws.com/gpt4o_images/981a4a5f-4bb3-4167-9092-1121fac2015f.png)

Схема канала со стиранием

**Описание:** Канал либо передаёт символ правильно, либо «стирает» его (сообщает, что символ потерян).

**Матрица канала:**

$$
P = \begin{pmatrix}
1-P_e & 0 & P_e \\
0 & 1-P_e & P_e
\end{pmatrix}
$$

**Пропускная способность BEC:**

$$
C = 1 - P_e
$$

**Интерпретация:**

- При P_e = 0: C = 1 бит — все символы доходят
- При P_e = 0.3: C = 0.7 бит — теряется 30% символов, эффективная скорость 70%
- При P_e = 1: C = 0 бит — все символы теряются


### 3. Шумная пишущая машинка

**Описание:** Канал с алфавитом {A, B, C, ..., Z}. Каждый символ либо передаётся правильно (вероятность 1/2), либо заменяется на следующий по алфавиту (вероятность 1/2).

**Пропускная способность:** C = log₂(13) ≈ 3.7 бит

**Объяснение:** Можно использовать каждую вторую букву (A, C, E, G, ...) — получается 13 различимых символов.

## Вычисление пропускной способности

### Алгоритм расчёта

**Шаг 1:** Задать матрицу переходных вероятностей P

**Шаг 2:** Выбрать распределение входных символов p(x)

**Шаг 3:** Вычислить взаимную информацию I(X;Y) = H(Y) - H(Y|X)

**Шаг 4:** Найти максимум I(X;Y) по всем возможным p(x)

### Пример расчёта для BSC

```python
import math

def binary_entropy(p):
    if p == 0 or p == 1:
        return 0
    return -p * math.log2(p) - (1-p) * math.log2(1-p)

def bsc_capacity(crossover_p):
    """Пропускная способность BSC с вероятностью ошибки crossover_p"""
    return 1 - binary_entropy(crossover_p)

# Примеры
print(f"BSC(0.1): C = {bsc_capacity(0.1):.3f} бит")  # 0.531 бит
print(f"BSC(0.2): C = {bsc_capacity(0.2):.3f} бит")  # 0.278 бит
```


## Свойства пропускной способности

### 1. Неотрицательность

C ≥ 0 для любого канала

### 2. Симметричные каналы

Для симметричных каналов оптимальное распределение входа — равномерное.

### 3. Вогнутость

I(X;Y) — вогнутая функция от p(x), поэтому максимум единственный и достижимый.

### 4. Каскадирование каналов

При последовательном соединении каналов пропускная способность не больше минимальной пропускной способности отдельных каналов.

## Теорема о шумном канале (кратко)

**Главная идея:** Если скорость передачи информации R меньше пропускной способности канала C, то существуют коды, позволяющие передавать информацию с произвольно малой вероятностью ошибки.

**Формулировка:**

- Если R < C: можно передавать практически без ошибок
- Если R > C: неизбежны ошибки, сколько бы мы ни старались


### Практический смысл

**Положительная часть:** «Хорошие новости» — мы можем передавать информацию надёжно, но не быстрее пропускной способности.

**Отрицательная часть:** «Плохие новости» — нельзя передавать быстрее, чем позволяет канал, без появления ошибок.

## Применение в программировании

### 1. Сетевые протоколы

```python
def max_throughput(channel_capacity_bps, packet_loss_rate):
    """Оценка максимальной пропускной способности TCP"""
    effective_capacity = channel_capacity_bps * (1 - packet_loss_rate)
    return effective_capacity * 0.8  # протокольный overhead
```


### 2. Оценка качества Wi-Fi

```python
def wifi_quality(snr_db):
    """Приблизительная оценка качества канала по SNR"""
    snr_linear = 10 ** (snr_db / 10)
    capacity_mbps = math.log2(1 + snr_linear)
    return min(capacity_mbps, 100)  # ограничение стандарта
```


### 3. Детектирование ошибок

```python
def need_error_correction(data_rate, channel_capacity):
    """Определить, нужна ли коррекция ошибок"""
    if data_rate > channel_capacity:
        return True, "Скорость превышает пропускную способность"
    efficiency = data_rate / channel_capacity
    if efficiency > 0.9:
        return True, "Работа близко к пределу, нужна защита"
    return False, "Канал недогружен"
```


## Заключение

**Пропускная способность канала** — это фундаментальный предел, определяющий максимальную скорость надёжной передачи информации. Понимание этого понятия критически важно для:

- **Проектирования сетевых протоколов** — выбор оптимальной скорости передачи
- **Оценки качества связи** — предсказание производительности системы
- **Разработки кодов с исправлением ошибок** — определение необходимой избыточности
- **Оптимизации хранилищ данных** — расчёт надёжности при наличии сбоев

Главный практический урок: **всегда работайте ниже пропускной способности канала**, оставляя запас для протокольной избыточности и защиты от ошибок.
